"use strict";(self.webpackChunkdendro_docs=self.webpackChunkdendro_docs||[]).push([[179],{5227:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>i,default:()=>l,frontMatter:()=>n,metadata:()=>c,toc:()=>u});var r=t(5893),s=t(1151);const n={sidebar_position:2,sidebar_label:"Host a Compute Resource"},i="Hosting a Dendro compute resource",c={id:"howto/host_compute_resource",title:"Hosting a Dendro compute resource",description:"Each Dendro project comes equipped with a dedicated compute resource for executing analysis jobs. The default setting uses a compute resource provided by the authors with limitations on CPU, memory, and concurrent jobs, shared among all users. This public resource should only be used for testing with small jobs. Contact one of the authors if you would like to run more intensive processing or configure your own compute resources.",source:"@site/docs/howto/host_compute_resource.md",sourceDirName:"howto",slug:"/howto/host_compute_resource",permalink:"/dendro-docs/docs/howto/host_compute_resource",draft:!1,unlisted:!1,editUrl:"https://github.com/dendro-docs/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/howto/host_compute_resource.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Host a Compute Resource"},sidebar:"documentationSidebar",previous:{title:"Compute resource prerequisites",permalink:"/dendro-docs/docs/howto/compute_resource_prerequisites"},next:{title:"Create a Dendro App",permalink:"/dendro-docs/docs/howto/create_dendro_app"}},a={},u=[{value:"Configuring apps for your compute resource",id:"configuring-apps-for-your-compute-resource",level:2},{value:"Submitting jobs to AWS Batch",id:"submitting-jobs-to-aws-batch",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.h1,{id:"hosting-a-dendro-compute-resource",children:"Hosting a Dendro compute resource"}),"\n",(0,r.jsx)(o.p,{children:"Each Dendro project comes equipped with a dedicated compute resource for executing analysis jobs. The default setting uses a compute resource provided by the authors with limitations on CPU, memory, and concurrent jobs, shared among all users. This public resource should only be used for testing with small jobs. Contact one of the authors if you would like to run more intensive processing or configure your own compute resources."}),"\n",(0,r.jsx)(o.p,{children:"Prerequisites"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Python >= 3.9"}),"\n",(0,r.jsx)(o.li,{children:"Docker or apptainer (or singularity >= 3.11)"}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"Clone this repo, then"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"# install\ncd dendro/python\npip install -e .[compute_resource]\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"# Initialize (one time)\nexport COMPUTE_RESOURCE_DIR=/some/path\nexport CONTAINER_METHOD=apptainer # or docker (or singularity)\ncd $COMPUTE_RESOURCE_DIR\ndendro register-compute-resource\n# Open the provided link in a browser and log in using GitHub\n"})}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"# Start the compute resource\ncd $COMPUTE_RESOURCE_DIR\ndendro start-compute-resource\n# Leave this open in a terminal. It is recommended that you use a terminal multiplexer like tmux or screen.\n"})}),"\n",(0,r.jsx)(o.p,{children:"In the web interface, go to settings for your project, and select your compute resource. New jobs submitted within your project will now use your compute resource for analysis jobs."}),"\n",(0,r.jsx)(o.h2,{id:"configuring-apps-for-your-compute-resource",children:"Configuring apps for your compute resource"}),"\n",(0,r.jsx)(o.p,{children:"In order to run jobs with your compute resource, you will need to configure apps to use it."}),"\n",(0,r.jsx)(o.p,{children:"In the web interface, click on the appropriate link to manage your compute resource. You will then be able to add apps to your compute resource by entering the information (see below for available apps)."}),"\n",(0,r.jsxs)(o.p,{children:["\u26a0\ufe0f"," After you make changes to your compute resource on the web interface, reload the page so that your changes will take effect."]}),"\n",(0,r.jsx)(o.p,{children:"The following are available apps that you can configure"}),"\n",(0,r.jsxs)(o.table,{children:[(0,r.jsx)(o.thead,{children:(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.th,{children:"App name"}),(0,r.jsx)(o.th,{children:"Spec URI"})]})}),(0,r.jsxs)(o.tbody,{children:[(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"mountainsort5"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.a,{href:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/mountainsort5/spec.json",children:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/mountainsort5/spec.json"})})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"kilosort3"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.a,{href:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/kilosort3/spec.json",children:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/kilosort3/spec.json"})})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"kilosort2_5"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.a,{href:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/kilosort2_5/spec.json",children:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/kilosort2_5/spec.json"})})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"spike-sorting_utils"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.a,{href:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/spike_sorting_utils/spec.json",children:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/spike_sorting_utils/spec.json"})})]}),(0,r.jsxs)(o.tr,{children:[(0,r.jsx)(o.td,{children:"dandi-upload"}),(0,r.jsx)(o.td,{children:(0,r.jsx)(o.a,{href:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/dandi_upload/spec.json",children:"https://github.com/scratchrealm/pc-spike-sorting/blob/main/dandi_upload/spec.json"})})]})]})]}),"\n",(0,r.jsx)(o.h2,{id:"submitting-jobs-to-aws-batch",children:"Submitting jobs to AWS Batch"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.a,{href:"/dendro-docs/docs/howto/iac_aws_batch",children:"See iac_aws_batch"})})]})}function l(e={}){const{wrapper:o}={...(0,s.a)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,o,t)=>{t.d(o,{Z:()=>c,a:()=>i});var r=t(7294);const s={},n=r.createContext(s);function i(e){const o=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(n.Provider,{value:o},e.children)}}}]);